# Claude Waker â°

è‡ªåŠ¨å”¤é†’ Claude è´¦å·ï¼Œä¼˜åŒ– 5 å°æ—¶é™é¢ä½¿ç”¨çª—å£ | Claude Scheduler | Claude Wakeup Tool | Claude Auto Timer

> **Automatic Claude account scheduler for optimizing 5-hour usage quota windows**
>
> [English Documentation](README.en.md) | ä¸­æ–‡æ–‡æ¡£

**å…³é”®è¯**: Claudeå®šæ—¶å”¤é†’ | Claudeè°ƒåº¦å™¨ | Claudeè‡ªåŠ¨åŒ– | Claude Proä¼˜åŒ– | Claude Maxå·¥å…· | claude scheduler | claude wakeup | claude timer | claude automation | claude quota optimizer

## ğŸ“– é¡¹ç›®èƒŒæ™¯

### é—®é¢˜

Claude Pro/Max è´¦å·æœ‰æ¯ 5 å°æ—¶çš„ä½¿ç”¨é™é¢ï¼Œä½†è¿™ä¸ªé™é¢**ä¸æ˜¯å›ºå®šæ—¶é—´é‡ç½®**ï¼Œè€Œæ˜¯ä»**ç¬¬ä¸€æ¬¡ä½¿ç”¨å¼€å§‹è®¡æ—¶**ã€‚

è¿™å¯èƒ½å¯¼è‡´æ— æ³•æœ€å¤§åŒ–åˆ©ç”¨é¢åº¦ã€‚ä¾‹å¦‚ï¼š

- å·¥ä½œæ—¶é—´ï¼š9:30-12:00, 13:30-18:30
- å¦‚æœ 10:00 ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œå¾ˆå¿«è€—å°½é¢åº¦
- ä¸‹åˆ 3:00 ä¹‹å‰éƒ½æ— æ³•ç»§ç»­ä½¿ç”¨ï¼ˆæµªè´¹äº†ä¸‹åˆçš„å·¥ä½œæ—¶é—´ï¼‰

### è§£å†³æ–¹æ¡ˆ

é€šè¿‡åœ¨**å›ºå®šæ—¶é—´ç‚¹**è‡ªåŠ¨å‘é€æ¶ˆæ¯æ¥"å”¤é†’" Claudeï¼Œä¸»åŠ¨è§¦å‘è®¡æ—¶çª—å£ï¼Œä»è€Œä¼˜åŒ–ä½¿ç”¨æ—¶é—´ï¼š

- æ—©ä¸Š 7:05 è‡ªåŠ¨å”¤é†’ â†’ 12:00 é‡ç½®
- ä¸­åˆ 12:05 è‡ªåŠ¨å”¤é†’ â†’ 17:00 é‡ç½®
- ä¸‹åˆ 17:05 è‡ªåŠ¨å”¤é†’ â†’ 22:00 é‡ç½®

**ä¸ºä»€ä¹ˆæ˜¯ 05 åˆ†ï¼Ÿ** Claude çš„ 5 å°æ—¶é™é¢æ˜¯æŒ‰**æ•´ç‚¹è®¡æ—¶**çš„ï¼ˆå¦‚ 7:00-12:00ï¼‰ï¼Œåœ¨ 7:05 å‘é€æ¶ˆæ¯ä¸ä¼šå½±å“è¿™ 5 åˆ†é’Ÿï¼Œå› ä¸ºè®¡æ—¶å·²ç»ä» 7:00 å¼€å§‹äº†ã€‚ä½¿ç”¨ 05 åˆ†å¯ä»¥ç¡®ä¿ cron ä»»åŠ¡ç¨³å®šè§¦å‘ã€‚

è¿™æ ·å°±èƒ½åœ¨å·¥ä½œæ—¶é—´å†…æœ€å¤§åŒ–åˆ©ç”¨é¢åº¦ï¼

## âœ¨ ç‰¹æ€§

**ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿**ï¼š
- ğŸš€ **åŒæ—¶ç®¡ç†å¤šä¸ª Claude è´¦å·** - ç½‘ä¸Šå¤§å¤šæ•°å·¥å…·åªæ”¯æŒå•è´¦å·ï¼Œæœ¬å·¥å…·å¯ä»¥ä¸€æ¬¡æ€§å”¤é†’æ‰€æœ‰è´¦å·
- âš¡ **æè‡´è½»é‡** - å•ä¸ª Python æ–‡ä»¶ + æœ€å°ä¾èµ–ï¼Œæ— å¤æ‚é…ç½®ï¼Œèµ„æºå ç”¨æä½
- ğŸ¨ **ç®€å•æ˜“ç”¨** - ä¸€é”®å®‰è£…ï¼Œè‡ªåŠ¨é…ç½®ï¼Œæ— éœ€ç¼–ç¨‹çŸ¥è¯†

**å®Œæ•´åŠŸèƒ½**ï¼š
- âœ… æ”¯æŒå¤šä¸ª Claude è´¦å·åŒæ—¶å”¤é†’
- âœ… è‡ªå®šä¹‰å”¤é†’æ—¶é—´ï¼ˆæœ€å¤š 5 ä¸ªæ—¶é—´ç‚¹ï¼‰
- âœ… è‡ªåŠ¨é…ç½® crontab å®šæ—¶ä»»åŠ¡ï¼ˆclaude schedulerï¼‰
- âœ… æœ€å°åŒ– API è¯·æ±‚ï¼ˆçŸ­ prompt + å¿«é€Ÿè¶…æ—¶ï¼‰
- âœ… è¯¦ç»†æ—¥å¿—è®°å½•
- âœ… é”™è¯¯å¤„ç†ï¼ˆå•ä¸ªè´¦å·å¤±è´¥ä¸å½±å“å…¶ä»–è´¦å·ï¼‰
- âœ… æ”¯æŒ Linux å’Œ macOS

## ğŸš€ å¿«é€Ÿå¼€å§‹

### éƒ¨ç½²å»ºè®®

**æ¨èéƒ¨ç½²ç¯å¢ƒ**ï¼š
- ğŸ–¥ï¸ **å¸¸å¼€æœºå™¨**ï¼šå®¶ç”¨ NASã€äº‘æœåŠ¡å™¨ã€ä¸ªäººç”µè„‘ç­‰ 24 å°æ—¶è¿è¡Œçš„è®¾å¤‡
- ğŸ’» **æ“ä½œç³»ç»Ÿ**ï¼šmacOS æˆ– Linuxï¼ˆæ¨è Ubuntu/Debianï¼‰
- âš ï¸ **æ³¨æ„**ï¼šå¦‚æœéƒ¨ç½²åœ¨ä¸ªäººç”µè„‘ä¸Šï¼Œéœ€è¦ä¿æŒç”µè„‘å¼€æœºä»¥ç¡®ä¿å®šæ—¶ä»»åŠ¡æ­£å¸¸è¿è¡Œ

**ä¸ºä»€ä¹ˆéœ€è¦å¸¸å¼€æœºå™¨ï¼Ÿ**
å› ä¸ºç¨‹åºé€šè¿‡ crontab å®šæ—¶ä»»åŠ¡è¿è¡Œï¼Œæœºå™¨å…³æœºæ—¶ä»»åŠ¡æ— æ³•æ‰§è¡Œã€‚å»ºè®®éƒ¨ç½²åœ¨æœåŠ¡å™¨ã€NAS æˆ–æ ‘è“æ´¾ç­‰å¸¸å¼€è®¾å¤‡ä¸Šã€‚

### å‰ç½®è¦æ±‚

1. **Python 3.8+**
2. **uv** (å¿«é€Ÿçš„ Python åŒ…ç®¡ç†å™¨)
   ```bash
   curl -LsSf https://astral.sh/uv/install.sh | sh
   ```
3. **Claude CLI** (ç”¨äºè·å– OAuth Token)
   ```bash
   npm install -g @anthropic-ai/claude-code
   ```

### å®‰è£…æ­¥éª¤

#### 1. è·å– OAuth Token

ä¸ºæ¯ä¸ª Claude è´¦å·è·å– OAuth Tokenï¼š

```bash
# è·å–ç¬¬ä¸€ä¸ªè´¦å·çš„ token
claude setup-token
```

è¿™ä¼šæ‰“å¼€æµè§ˆå™¨è¿›è¡Œè®¤è¯ï¼Œå®Œæˆåä¼šåœ¨ç»ˆç«¯è¾“å‡º tokenï¼Œç±»ä¼¼ï¼š

```
Your OAuth token: sk-ant-oat03-...ï¼ˆå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼‰
```

**å¤åˆ¶å¹¶ä¿å­˜è¿™ä¸ª token**ã€‚

å¦‚æœæœ‰å¤šä¸ªè´¦å·ï¼Œé€€å‡ºå½“å‰è´¦å·åé‡å¤æ­¤æ­¥éª¤ï¼š
```bash
# åœ¨æµè§ˆå™¨ä¸­ç™»å‡º Claude
# å†æ¬¡è¿è¡Œè·å–å¦ä¸€ä¸ªè´¦å·çš„ token
claude setup-token
```

#### 2. å…‹éš†å¹¶é…ç½®é¡¹ç›®

```bash
# å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
cd claude_waker

# è¿è¡Œå®‰è£…è„šæœ¬
./setup.sh
```

é¦–æ¬¡è¿è¡Œ `setup.sh` ä¼šè‡ªåŠ¨åˆ›å»º `config.yaml`ï¼Œæç¤ºä½ ç¼–è¾‘é…ç½®ã€‚

#### 3. ç¼–è¾‘é…ç½®æ–‡ä»¶

ç¼–è¾‘ `config.yaml`ï¼š

```yaml
# Claude è´¦å·åˆ—è¡¨
accounts:
  - name: "ä¸»è´¦å·"
    token: "sk-ant-oat03-...ï¼ˆç¬¬ä¸€ä¸ªè´¦å·çš„tokenï¼‰"
  - name: "å¤‡ç”¨è´¦å·"
    token: "sk-ant-oat03-...ï¼ˆç¬¬äºŒä¸ªè´¦å·çš„tokenï¼‰"

# å”¤é†’æ—¶é—´ï¼ˆå°æ—¶ï¼Œ0-23ï¼‰
# å®é™…è§¦å‘æ—¶é—´ä¸ºæ¯å°æ—¶çš„ 05 åˆ†
wake_hours: "7,12,17"  # åœ¨ 7:05, 12:05, 17:05 å”¤é†’
```

#### 4. å®Œæˆå®‰è£…

ç¼–è¾‘å®Œé…ç½®åï¼Œå†æ¬¡è¿è¡Œå®‰è£…è„šæœ¬ï¼š

```bash
./setup.sh
```

å®‰è£…è„šæœ¬ä¼šï¼š
- âœ“ åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆä½¿ç”¨ uvï¼‰
- âœ“ å®‰è£…ä¾èµ–
- âœ“ éªŒè¯é…ç½®å’Œ token
- âœ“ è‡ªåŠ¨é…ç½® crontab å®šæ—¶ä»»åŠ¡

## ğŸ“ ä½¿ç”¨è¯´æ˜

### è‡ªåŠ¨è¿è¡Œ

å®‰è£…å®Œæˆåï¼Œç¨‹åºä¼šè‡ªåŠ¨åœ¨æŒ‡å®šæ—¶é—´è¿è¡Œï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œã€‚

### æ‰‹åŠ¨æµ‹è¯•

æµ‹è¯•ç¨‹åºæ˜¯å¦æ­£å¸¸å·¥ä½œï¼š

```bash
.venv/bin/python3 waker.py
```

### æŸ¥çœ‹æ—¥å¿—

```bash
tail -f waker.log
```

æ—¥å¿—ç¤ºä¾‹ï¼š
```
[2025-12-03 07:05:01] ============================================================
[2025-12-03 07:05:01] Claude Waker å¼€å§‹è¿è¡Œ
[2025-12-03 07:05:01] âœ“ æ£€æµ‹åˆ°æ“ä½œç³»ç»Ÿ: Mac
[2025-12-03 07:05:01] å¼€å§‹å”¤é†’ä»»åŠ¡ï¼Œå…± 2 ä¸ªè´¦å·
[2025-12-03 07:05:01] æ­£åœ¨å”¤é†’è´¦å·: ä¸»è´¦å·
[2025-12-03 07:05:03] âœ… ä¸»è´¦å· - å”¤é†’æˆåŠŸ
[2025-12-03 07:05:05] æ­£åœ¨å”¤é†’è´¦å·: å¤‡ç”¨è´¦å·
[2025-12-03 07:05:07] âœ… å¤‡ç”¨è´¦å· - å”¤é†’æˆåŠŸ
[2025-12-03 07:05:07] ------------------------------------------------------------
[2025-12-03 07:05:07] å”¤é†’ä»»åŠ¡å®Œæˆ: æˆåŠŸ 2 ä¸ªï¼Œå¤±è´¥ 0 ä¸ª
[2025-12-03 07:05:07] ============================================================
```

### æŸ¥çœ‹ Crontab ä»»åŠ¡

```bash
crontab -l | grep "Claude Waker"
```

### ä¿®æ”¹å”¤é†’æ—¶é—´

1. ç¼–è¾‘ `config.yaml` ä¸­çš„ `wake_hours`
2. é‡æ–°è¿è¡Œ `./setup.sh` æ›´æ–° crontab

### å¸è½½

è¿è¡Œå¸è½½è„šæœ¬ï¼š

```bash
./uninstall.sh
```

## âš™ï¸ é…ç½®è¯´æ˜

### config.yaml

| å­—æ®µ | è¯´æ˜ | æ ¼å¼ |
|------|------|------|
| `accounts` | Claude è´¦å·åˆ—è¡¨ | æ•°ç»„ï¼Œæ¯ä¸ªè´¦å·åŒ…å« `name` å’Œ `token` |
| `wake_hours` | å”¤é†’æ—¶é—´ | å­—ç¬¦ä¸²ï¼Œé€—å·åˆ†éš”çš„å°æ—¶æ•°ï¼ˆ0-23ï¼‰ï¼Œæœ€å¤š 5 ä¸ª |

### å”¤é†’æ—¶é—´ç¤ºä¾‹

```yaml
# æ—©ä¸­æ™šå„ä¸€æ¬¡
wake_hours: "7,12,17"

# ä¸Šç­å‰ã€åˆä¼‘åã€ä¸‹ç­å‰
wake_hours: "9,14,18"

# ä»…å·¥ä½œæ—¥æ—©æ™¨ï¼ˆéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ crontab æ·»åŠ æ˜ŸæœŸé™åˆ¶ï¼‰
wake_hours: "9"
```

**æ³¨æ„**: å®é™…è§¦å‘æ—¶é—´ä¸ºæ¯å°æ—¶çš„ **05 åˆ†**ï¼ˆå¦‚ 7:05, 12:05ï¼‰ã€‚è¿™ä¸ä¼šæµªè´¹ 5 åˆ†é’Ÿé…é¢ï¼Œå› ä¸º Claude ä»æ•´ç‚¹å¼€å§‹è®¡æ—¶ã€‚

## ğŸ”§ é«˜çº§ç”¨æ³•

### é™åˆ¶å·¥ä½œæ—¥è¿è¡Œ

æ‰‹åŠ¨ç¼–è¾‘ crontabï¼Œæ·»åŠ å·¥ä½œæ—¥é™åˆ¶ï¼š

```bash
crontab -e
```

ä¿®æ”¹ Claude Waker ä»»åŠ¡ä¸ºï¼š

```cron
# Claude Waker - Auto wake Claude accounts (ä»…å·¥ä½œæ—¥)
5 7,12,17 * * 1-5 cd /path/to/claude_waker && .venv/bin/python3 waker.py
```

`1-5` è¡¨ç¤ºå‘¨ä¸€åˆ°å‘¨äº”ã€‚

### è‡ªå®šä¹‰æ—¥å¿—ä½ç½®

ä¿®æ”¹ `waker.py` ä¸­çš„ `LOG_FILE` å˜é‡ï¼š

```python
LOG_FILE = Path("/your/custom/path/waker.log")
```

### è°ƒæ•´è¶…æ—¶æ—¶é—´

ä¿®æ”¹ `waker.py` ä¸­çš„è¶…æ—¶è®¾ç½®ï¼š

```python
async with asyncio.timeout(60):  # ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„ç§’æ•°
```

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ç¡®è®¤ token æ˜¯å¦æœ‰æ•ˆï¼Ÿ

è¿è¡Œ `./setup.sh`ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨éªŒè¯ tokenã€‚

æˆ–æ‰‹åŠ¨æµ‹è¯•ï¼š
```bash
.venv/bin/python3 waker.py
```

### Q: ç¨‹åºæ²¡æœ‰æŒ‰æ—¶è¿è¡Œï¼Ÿ

1. æ£€æŸ¥ crontab æ˜¯å¦æ­£ç¡®ï¼š`crontab -l | grep "Claude Waker"`
2. ç¡®è®¤ç³»ç»Ÿæ—¶é—´æ­£ç¡®ï¼š`date`
3. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼š`tail -f waker.log`
4. ç¡®è®¤ cron æœåŠ¡è¿è¡Œæ­£å¸¸ï¼ˆmacOS éœ€è¦æˆæƒç»ˆç«¯è®¿é—®ï¼‰

### Q: Token è¿‡æœŸäº†æ€ä¹ˆåŠï¼Ÿ

é‡æ–°è·å– token å¹¶æ›´æ–° `config.yaml`ï¼š

```bash
claude setup-token
# å¤åˆ¶æ–° token åˆ° config.yaml
```

### Q: å¦‚ä½•æ·»åŠ æ›´å¤šè´¦å·ï¼Ÿ

åœ¨ `config.yaml` ä¸­æ·»åŠ æ–°è´¦å·ï¼š

```yaml
accounts:
  - name: "è´¦å·1"
    token: "token1"
  - name: "è´¦å·2"
    token: "token2"
  - name: "è´¦å·3"  # æ–°å¢
    token: "token3"
```

æ— éœ€é‡æ–°è¿è¡Œ `setup.sh`ã€‚

### Q: å¯ä»¥è¶…è¿‡ 5 ä¸ªå”¤é†’æ—¶é—´å—ï¼Ÿ

æŠ€æœ¯ä¸Šå¯ä»¥ï¼Œä½†å»ºè®®ä¸è¶…è¿‡ 5 ä¸ªã€‚ä¿®æ”¹ `wake_hours` å³å¯ï¼Œå¦‚ï¼š

```yaml
wake_hours: "6,9,12,15,18,21"  # 6 ä¸ªæ—¶é—´ç‚¹
```

### Q: æ—¥å¿—æ–‡ä»¶å¤ªå¤§æ€ä¹ˆåŠï¼Ÿ

ä½¿ç”¨ logrotate æˆ–æ‰‹åŠ¨æ¸…ç†ï¼š

```bash
# æ‰‹åŠ¨æ¸…ç©ºæ—¥å¿—
> waker.log

# æˆ–ä¿ç•™æœ€å 100 è¡Œ
tail -100 waker.log > waker.log.tmp && mv waker.log.tmp waker.log
```

### Q: macOS ä¸Š cron æ²¡æœ‰æƒé™è¿è¡Œï¼Ÿ

macOS éœ€è¦æˆæƒç»ˆç«¯è®¿é—®ï¼š

1. ç³»ç»Ÿåå¥½è®¾ç½® â†’ å®‰å…¨æ€§ä¸éšç§ â†’ éšç§ â†’ å®Œå…¨ç£ç›˜è®¿é—®æƒé™
2. æ·»åŠ  `/usr/sbin/cron` æˆ–ä½ ä½¿ç”¨çš„ç»ˆç«¯åº”ç”¨

## ğŸ“„ é¡¹ç›®ç»“æ„

```
claude_waker/
â”œâ”€â”€ waker.py              # ä¸»ç¨‹åº
â”œâ”€â”€ setup.sh              # å®‰è£…è„šæœ¬
â”œâ”€â”€ config.yaml           # é…ç½®æ–‡ä»¶ï¼ˆéœ€æ‰‹åŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ config.yaml.example   # é…ç½®ç¤ºä¾‹
â”œâ”€â”€ requirements.txt      # Python ä¾èµ–
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .venv/               # è™šæ‹Ÿç¯å¢ƒï¼ˆsetup.sh è‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ waker.log            # æ—¥å¿—æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â””â”€â”€ README.md            # æœ¬æ–‡ä»¶
```

## ğŸ”— ç›¸å…³é“¾æ¥

- [Claude Code æ–‡æ¡£](https://docs.claude.com/en/docs/claude-code)
- [Claude Agent SDK](https://docs.claude.com/en/api/agent-sdk/overview)
- [uv - Python åŒ…ç®¡ç†å™¨](https://github.com/astral-sh/uv)
- [å‚è€ƒé¡¹ç›® - claude-oauth-demo](https://github.com/anthropics/claude-agent-sdk-python)

## ğŸ“œ è®¸å¯è¯

MIT

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®å‚è€ƒäº† [claude-oauth-demo](../claude-oauth-demo) çš„ OAuth è®¤è¯å®ç°ã€‚

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼å……åˆ†åˆ©ç”¨ Claude Pro/Max çš„æ¯ä¸€åˆ†é’Ÿé¢åº¦ï¼** ğŸš€
